Пояснения к примененному алгоритму:
Будем хранить набор всех знаков как ограничение + количество.
Сортируем весь набор по количеству.
Найдем два максимальных по количеству знака. Если хотя осталось хотя бы по 1 знаку каждого типа, то последовательно выводим оба знака, иначе выводим только первый знак.
Повторяем, пока в наборе остался хотя бы один знак.

*Сортировать нужно для того, чтобы начинать вывод с тех знаков, которых больше.