Пояснения к примененному алгоритму:
Сперва найдем количество путей для n домов. Очевидно, что это число будет равно сумме арифметической прогрессии
n-1, n-2, n-3, ..., n - (n - 1), 0
и будет определятся формулой k = n*(n + 1) / 2
Из условий, что между 2 домами выбирается кратчайший маршрут, при этом двигаться можно только вертикально или горизонтально, следует, что можно рассматривать отдельно участки, пройденные горизонтально, и участки, пройденные вертикально.
Рассмотрим горизонтальные участки. Сперва необходимо отсортировать отдельно все координаты.
Из набора координат домов выберем произвольный i-ый дом.
Так как набор отсортирован, горизонтальным путем этого дома воспользуется i (перед текущей включительно) и n - i (после текущей) раз. Значит вклад этого дома в сумму путей по горизонтали равен dx * i * (n-i)
Проведем подобные действия для координат всех домов, после чего поделим суммарный путь на количество уникальных путей.
