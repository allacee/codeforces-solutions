Пояснения к примененному алгоритму:
1) Докажем, что каждый символ побывает началом строки: 
По условию задачи для строки из n символов формируется n строк, для образования которой необходимо сдвигать символы влево с переносом. Таким образом, можно однозначно говорить, что в при рассматривании последовательности строк как матрицы символов, каждый символ побывает в каждом столбце ровно 1 раз. 
Из этого следует вывод, что каждый символ единожды побывает на первом месте.

2) Из условия лексиграфической отсортированности строк, а также из условия, доказанного в пункте 1 следует, что в первой колонке рассматриваемой матрицы символов расположены все символы из последней колонки, отсортированные в алфавитном порядке. 

3) Рассмотрим строку x, в которой n символов. Нам уже известен символ x_1 и символ x_n. Из алгоритма получения новой строки (сдвига символов) можно сделать вывод, что во всех других строках символы x_1 и x_n стоят рядом, более того, они обязательно расположены в порядке x_n,x_1. Однако для однозначного определения связи и сохранения исходного порядка пар x_i,x_j необходимо однозначно определить взаимосвязи между двумя буквами из разных столбцов. Для этого в программе используется вектор sym_pairs. В нем индекс - номер строки, буквы с конца, или первой буквы в паре, а значение по этому индексу - номер строки буквы с начала, или же второй буквы в паре.
