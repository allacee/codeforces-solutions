First of all: Я ненавижу эту задачу
Пояснения к примененному алгоритму:
Из временного ограничения следует, что данную задачу надо решать меньше, чем за n^2, из-за чего не подойдет очевидный вариант с хранением значений в списке и их последовательным удалением.
Будем хранить все значения в полном бинарном дереве. На нижнем уровне будут располагаться 1 или 0 в соответствии с тем, остался ли в строю солдат с номером, соответствующим его порядковому номеру среди листьев этого дерева. В узле i будем хранить сумму его левого и правого поддерева.
Подобные подход позволпфаходить следующего солдата, который должен выбыть, за NlogN.